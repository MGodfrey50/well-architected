---
title: Oracle workload compute and storage
description: Review the design area for compute and storage of the Azure Well-Architected Framework. Learn how to apply these principles to Oracle workloads on Azure IaaS.
author: jessiehaessler
ms.author: jhaessler
ms.topic: conceptual
ms.date: 04/14/2024
ms.custom: template-overview
ms.service: architecture-center
ms.subservice: well-architected

---

# What is workload compute and storage?

You can use Azure infrastructure as a service (Iaas) to migrate Oracle workloads to match on-premises workloads. A workload's complexity, size, and high input/output (I/O) demands can cause performance problems in the cloud. Oracle Database performance depends on several parameters, including read/write disk throughput MBps, read/write IOPS, CPU, RAM, and network latency. Choose the correct combination of compute and storage on Azure Iaas and the placement of application workloads relative to database services to successfully deploy and manage Oracle workloads.

This article describes how to right-size compute and storage for your Oracle workloads using Azure IaaS for a successful cloud deployment.

## Assess the Oracle workload using AWR reports

In order to get right-sizing recommendations for the required Azure infrastructure, you need to generate either an Automatic Workload Repository (AWR) report or Statspack report for each database that you plan to migrate to Azure.

An [AWR report](https://docs.oracle.com/en/database/oracle/oracle-database/23/tgdba/download-awr-report.html#GUID-735F06E5-C97A-41B1-8C23-F2FEFDE0CED0) is a detailed performance analysis report generated by the Oracle Database. It provides comprehensive information about database performance, wait events, system resources, and more. An AWR report is included with the Oracle Diagnostics Pack for the Oracle Database product set. If you're running the Standard Edition or an Enterprise edition without a Diagnostics Pack license, you should run a [Statspack report](https://docs.oracle.com/cd/B10500_01/server.920/a96533/statspac.htm) instead.

Insight into the peak load is essential. If the peak load occurs on backup timings during the night and Backup Recovery Time Objective (RTO) or Recovery Point Objective (RPO) requirements are inline with 4 hours, then repeat the same exercise for an average load. Note that a peak load is usually a window of 1 hour. You can determine the peak load by using the Oracle Enterprise Manager. If you don't use or have a license for Oracle Enterprise Manager, you can use the following script for the [top five busiest times](https://github.com/Azure/Oracle-Workloads-for-Azure/blob/main/az-oracle-sizing/busiest_awr.sql). This script is available for both [Standard Edition databases](https://github.com/Azure/Oracle-Workloads-for-Azure/blob/main/az-oracle-sizing/busiest_statspack.sql) and [Enterprise Edition databases](https://github.com/Azure/Oracle-Workloads-for-Azure/blob/main/az-oracle-sizing/busiest_awr.sql).

### Recommendations

- Generate comprehensive AWR reports for a database right-sizing exercise.
- Generate the AWR report for the busiest workload period during short windows of time, such as one hour or 30 minutes.
- Generate a peak-load AWR report, or an average-peak load, if desired.
- Attain any other AWR reports that might contain important details about the database workload, such as end-of-month or end-of-quarter reporting periods.
- Ensure the report is in HTML for the right-sizing tool.
- Use the following scripts to provide you with the top five busiest times if you aren't sure when peak load occurs:
  - [AWR](https://github.com/Azure/Oracle-Workloads-for-Azure/blob/main/az-oracle-sizing/busiest_awr.sql)
  - [Statspack](https://github.com/Azure/Oracle-Workloads-for-Azure/blob/main/az-oracle-sizing/busiest_statspack.sql)

## Right-size your Oracle workloads

You should carefully analyze an AWR report or Statspack report of your Oracle workloads in order to right-size your Azure infrastructure so it meets the performance requirements.
Right-sizing workloads ensures that your workload requirements match with the right Azure VM SKU by considering vCPU, memory, throughput, and IOPS. Such analyses are based on expert understanding of database performance and require automated tools in order to manage all variables. For more information about prerequisites and limitations of automated tools, see [Oracle Migration Assistant Tool (OMAT)](https://github.com/Azure/Oracle-Workloads-for-Azure/tree/main/omat). OMAT collects and processes AWR reports from the source system, extracts the required data, and places it into an Excel workbook.

Review the partition of CPU and core processors when you use the OMAT tool to give you the hyper-threaded factor. The default factor in the OMAT tool is two and should be adjusted to fit your specific usage. Reach out to your local contact person for expert support.

### Recommendations

- Gain access to automated right-sizing tools. [OMAT](https://github.com/Azure/Oracle-Workloads-for-Azure/tree/main/omat) helps you understand your resource usage on Oracle installations, either on premise or in any cloud, and recommends the optimal Virtual Machine (VM) and storage that can run the same workload on Azure.
- OMAT automates the steps outlined in the AWR sizing document to speed up the migration process and simplify the AWR report.
- Seek experts who understand the implications of the recommendations generated by OMAT.

## Choose the right VM for your workload

The OMAT tool provides optimal right-sizing recommendations for Oracle on Azure IaaS that you can use to implement your workload on Azure. Choose a hyper-threaded VM to save on licensing costs.

### Recommendations

- The [E-series](/azure/virtual-machines/edv5-edsv5-series) and [M-series](/azure/virtual-machines/m-series) VMs are the common choices for your database. Use the E-series for high throughput values and the M-series for workloads that require high memory. Both are hyper-threaded enabled.
- Each VM family comes with a selection of sizes and can be matched to your needs. Microsoft also offers [constrained core sizes](/azure/virtual-machines/constrained-vcpu?tabs=family-E) to reduce the cost of software licensing while maintaining the same memory, storage, and I/O bandwidth.
- Use the [Azure Pricing tools](https://azure.microsoft.com/en-us/pricing/calculator/) to compare the cost of different Azure VM recommendations.
- Use [Azure Reservations](https://azure.microsoft.com/en-us/pricing/reservations) to reduce compute infrastructure costs.

## Storage considerations for Oracle on Azure IaaS

Choosing the right Azure storage for the database is determined by factors such as database size, IOPS, and throughput. Azure Storage provides a wide range of storage options, and Azure Premium Managed Disks provides excellent capabilities for Oracle workloads. The right-sizing assessment determines if the database requires a more permanent storage solution.

Other storage considerations are related to data files archived redo logs and backups. Archiving redo logs is typically an ongoing read/write operation. These logs need to be evaluated based on solution requirements and availability.

The AWR report provides insight into the throughput and IOPS requirements of your specific workload. It's crucial to know your throughput and IOPS requirements before deployment because Oracle workloads are performance sensitive.

The following table provides an example of a data disk storage-layout:

| Disk name  |  Function | Size (GB) |Throughput |  IOPS | Disk recommendation  |
|---|---|---|---|---|---|
| oredo  | Online Redo Logs  | 400  |  150 |  1500 | Wherever available, choose Premium SSD v2, otherwise P20 |
| oarch  | Archive Redo Logs  | 7000  | 300  |  1250 | Azure Blob Storage configured in Hot Tier |
| odata  | Data files and control files   |  18000 | 1000  | 2500 | Choose Premium SSD v2 when available and 5*P50 (striped to RAID-0) otherwise|

The temporary tablespace can use a lot of throughput and IOPS. If this applies to your specific workload, choose a VM that has an attached ephemeral disk, such as [Ed-v5](/azure/virtual-machines/edv5-edsv5-series), and put the temporary tablespace onto it. You can also choose other disk types depending on your requirements.

This is only an example of one customer workload. Make sure to review and adjust the requirements of the size of your workload, the IOPS, and throughput accordingly.

If you need to use multiple disks for one or more logical volumes in your disk setup, regardless of the disk technology (Oracle ASM, LVM, or other), make sure that you balance the load across disks for maximum performance.

You can make use of Premium SSD v2 managed disks wherever they're available. Check availability in accordance with the region before deployment. Also review [disk configurations](/azure/virtual-machines/workloads/oracle/oracle-design#disk-types-and-configurations).

If you use Oracle ASM and Managed Disks, the default configured disk size in ASM is decisive. This means if you configured ASM for a maximum size of 4096 GB, ASM can only process this amount. So even if you provision higher disks, ASM doesn't recognize the space. Plan for disk size accordingly and whether to provision a certain number of 4095-GB disks. For more information, see [ASM configuration](https://docs.oracle.com/en/database/oracle/oracle-database/19/ostmg/create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D).

### Recommendations

- Use the recommendations generated by the OMAT tool to guide you through your database storage options.
- Understand the different Azure [disk types](/azure/virtual-machines/disks-types) and how they fit into your workload requirements.
- Review best practices for [disk types and configurations](/azure/virtual-machines/workloads/oracle/oracle-design#disk-types-and-configurations).
- Visit [Azure NetApp Files for Oracle](/azure/architecture/example-scenario/file-storage/oracle-azure-netapp-files) if you plan on using Azure NetApp Files for Oracle as your storage layer.
- Visit [application volume groups](/azure/azure-netapp-files/performance-oracle-multiple-volumes) if you plan to decouple from an Oracle Exadata.
- Suitable options for Redo Log archives are [Azure Files (hot tier)](/azure/storage/files/understand-performance#choosing-a-performance-tier-based-on-usage-patterns), especially for large volumes, and Azure Premium Managed disks.
- Base the Backup option for Oracle workloads on data volume and your technical and nontechnical requirements. For more information, see [Backup strategies for Oracle workloads](/azure/virtual-machines/workloads/oracle/oracle-database-backup-strategies).
- Plan your storage layout to avoid performance problems.

## Size the necessary compute infrastructure for Oracle applications

Oracle applications can typically be moved to Azure using VMs with similar capabilities to VMs used in the on-premises deployment.

### Recommendations

- It's important to have available data points from the web tier and the application tier. These data points include:

  - Number of vCPUs
  - Average vCPU usage
  - Memory size
  - Average memory usage
  - App storage size
  - App version
  - Operating system
  - Total IOPS
  - Total throughput
  - Backup strategy

The application tier can be moved to any suitable VM SKU that meets the performance and cost optimization requirements.

For more information, see [Oracle applications on Azure](/azure/virtual-machines/workloads/oracle deploy-application-oracle-database-azure).

## Next step

> [!div class="nextstepaction"]
> For next steps, see [Business continuity and disaster recovery](optimize-business-continuity-disaster-recovery.md)
